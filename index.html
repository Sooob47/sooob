<html lang="ko">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Delivery Regularly</title>
		<style>			
			body {
				font-family: 'Noto Sans KR', sans-serif;
				margin: 0;
				padding: 0;
			}			
			header {
				font-family: 'Roboto', sans-serif;
				color: #0052a4;
				font-size: xx-large;
				padding: 30px;
			}
			header h1 {
				margin: 0;
			}
			nav {
				font-family: 'Roboto', sans-serif;
				display: flex;
				font-size: larger;
				padding: 10px;
			}
			nav a {
				color: #0052a4;
				text-decoration: none;
				margin: 0 15px;
			}
			nav a:hover {
				text-decoration: underline;
			}
			.hero-section {
				background-color: #ffff; 
				color: #000000a9;
				padding: 40px 20px;
				margin-bottom: 20px;
			}	
			.container {
				max-width: 1200px;
				color: #000000a9;
				margin: 20px auto;
				padding: 20px;
			}
			.container h2{
				max-width: 1200px;
				color: #0052a4;
				margin: 20px auto;
				padding: 20px;
			}
			.main-banner {
				width: 100%;
				height: 400px;
				background: url('https://via.placeholder.com/1200x400') center/cover no-repeat;
				display: flex;
				justify-content: center;
				align-items: center;
				color: #fff;
				text-align: center;
			}
	
			.main-banner h1 {
				font-size: 2.5rem;
				margin-bottom: 10px;
			}
	
			.main-banner p {
				font-size: 1.2rem;
				margin-bottom: 20px;
			}
	
			.main-banner button {
				padding: 10px 20px;
				background-color: #0052a4;
				color: #fff;
				border: none;
				font-size: 1rem;
				cursor: pointer;
			}
	
			.main-banner button:hover {
				background-color: #003d7a;
			}
	
			/* Category Section */
			.categories {
				display: flex;
				justify-content: space-around;
				margin: 30px 0;
				padding: 0 20px;
			}
	
			.categories .category {
				text-align: center;
			}
	
			.categories .category img {
				width: 100px;
				height: 100px;
				object-fit: cover;
				margin-bottom: 10px;
			}
	
			.categories .category span {
				font-size: 1rem;
				color: #333;
			}
	
			/* Product Grid */
			.products {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
				gap: 20px;
				padding: 20px;
				max-width: 1200px;
				margin: 0 auto;
			}
	
			.product {
				border: 1px solid #bababa7a;
				overflow: hidden;
				text-align: center;
				transition: transform 0.3s;
			}
	
			.product:hover {
				transform: translateY(-5px);
			}
	
			.product img {
				max-width: 100%;
				height: auto;
			}
	
			.product h3 {
				margin: 15px 0;
			}
	
			.product p {
				margin: 10px 0;
				color: #555;
			}
	
			.product button {
				background-color: #0052a4;
				color: white;
				border: none;
				padding: 10px 15px;
				font-size: 1rem;
				cursor: pointer;
				margin-bottom: 15px;
			}
	
			.product button:hover {
				background-color: #003d7a;
			}
			
			footer {
				background-color: #ececec;
				color: #9c9c9c;
				text-align: center;
				padding: 15px;
				margin-top: 20px;
			}
			.subscription-form {
				background-color: #f9f9f9;
				padding: 40px 20px ;
				max-width: 600px;
				margin: 40px auto;
				text-align: center;
			}
	
			.subscription-form h2 {
				margin-bottom: 20px;
				color: #0052a4;
			}
	
			.subscription-form form {
				display: flex;
				flex-direction: column;
				gap: 15px;
				align-items: flex-start;
			}
	
			.input-group {
				display: flex;
				align-items: center;
				border: 1px solid #ddd;
				padding: 10px;
				background-color: white;
				width: 100%; /* 부모 요소 크기에 맞춤 */
				box-sizing: border-box; /* 패딩 포함하여 크기 계산 */
			}
			
			.input-group img {
				width: 24px;
				height: 24px;
				margin-right: 10px;
			}
			
			.input-group input {
				flex: 1; /* 입력 필드가 남은 공간을 채우도록 설정 */
				border: none;
				outline: none;
				font-size: 1rem;
				color: #333;
				padding: 8px;
			}
	
			.subscription-form button {
				background-color: #0052a4;
				color: white;
				border: none;
				padding: 15px;
				margin: auto;
				font-size: 1rem;
				cursor: pointer;
				transition: background-color 0.3s;
				width: 100%;
			}
	
			.subscription-form button:hover {
				background-color: #003d7a;
			}
			
		</style>
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&family=Noto+Sans+KR:wght@100..900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">	
	</head>
	<body>
    <header>
        <h1>Delivery Regularly</h1>
    </header>
    <nav>
        <a href="#">HOME</a>
        <a href="#">PRODUCT</a>
        <a href="#">MY PAGE</a>
        <a href="#">Q&A</a>
    </nav>
	<section class="hero-section">
		<div class="hero-content">
			<h2>샴푸, 치약, 휴지 등<br>떨어지면 당황스러운 생필품!</h2>
			<p>
				때 되면 구매해야 하는 생필품, 매번 찾아서 구매하기 귀찮으시죠?<br>
				이제는 <strong>떨어질 주기에 맞춰</strong> 내가 좋아하는 제품을 정기배송 받아보세요!<br>
			</p>
			<p>
				정기배송 서비스로 <strong>시간도 절약</strong>하고 <strong>편리함</strong>을 경험해보세요.<br>
				고객님의 소비 패턴에 맞춰, <strong>맞춤형 주기</strong>로 필요한 제품이 정확히 집 앞까지 도착합니다.<br>
				더 이상 잊어버릴 걱정 없이, 필요한 때에 필요한 제품을 받아보세요!
			</p>
			<p>
				지금 바로 정기배송 서비스를 시작해보세요.<br>
				<strong>첫 주문 할인</strong>과 함께 다양한 혜택이 기다리고 있습니다.<br>
				구매할수록 쌓이는 <strong>포인트</strong>로 더 큰 혜택을 누리세요!
			</p>
		</div>
	</section>
    <div class="container">
        <h2>구독 상품</h2>
        <div class="products">
            <div class="product">
                <img src="2.jpg" alt="화장품" />
                <h3>샴푸</h3>
                <p>17,900</p>
                <button>주문하기</button>
            </div>
            <div class="product">
                <img src="3.jpg" alt="상품 이미지">
                <h3>치약</h3>
                <p>8,900</p>
                <button>주문하기</button>
            </div>
            <div class="product">
                <img src="4.jpg" alt="상품 이미지">
                <h3>휴지</h3>
                <p>48,900</p>
                <button>주문하기</button>
            </div>
        </div>
    </div>

	<section class="subscription-form">
        <h2>정기배송 신청</h2>
        <form action="#" method="post">
            <div class="input-group">
                <img src="person_24dp_E8EAED_FILL0_wght400_GRAD0_opsz24.svg" alt="이름 아이콘">
                <input type="text" id="name" name="name" placeholder="이름을 입력하세요" required />
            </div>
            <div class="input-group">
                <img src="mail_24dp_E8EAED_FILL0_wght400_GRAD0_opsz24.svg" alt="메일 아이콘">
                <input type="email" id="email" name="email" placeholder="이메일 주소를 입력하세요" required />
            </div>
            <div class="input-group">
                <img src="phone_iphone_24dp_E8EAED_FILL0_wght400_GRAD0_opsz24.svg" alt="번호 아이콘">
                <input type="tel" id="phone" name="phone" placeholder="전화번호를 입력하세요" required />
            </div>
            <button type="submit">신청하기</button>
        </form>
    </section>
        </form>
    </section>
	<!-- <section class="subscription-form">
		<h2>정기배송 신청</h2>
		<form action="#" method="post">
			<label for="name">이름:</label>
			<input type="text" id="name" name="name" placeholder="이름을 입력하세요" required />
	
			<label for="email">e-mail:</label>
			<input type="email" id="email" name="email" placeholder="이메일 주소를 입력하세요" required />
	
			<label for="phone">phone:</label>
			<input type="tel" id="phone" name="phone" placeholder="전화번호를 입력하세요" required />
	
			<button type="submit">신청하기</button>
		</form>
	</section> -->
    <footer>
        &copy; 2024 졸업시켜주세요 | All rights reserved.
    </footer>
    </div>

		<script src="https://code.jquery.com/jquery-latest.min.js"></script>
		<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
		<script type="application/javascript">
			var ip = "null";
			function getIP(json) {
				console.log(json);
				try {
					ip = json.ip;
				} catch (e) {
					ip = 'unknown';
				}
				return;
			}
			</script>
			<script type="application/javascript" src="https://jsonip.com?format=jsonp&callback=getIP"></script>
	

		<script>
			// 쿠키에서 값을 가져오는 함수
			function getCookieValue(name) {
				const value = "; " + document.cookie;
				const parts = value.split("; " + name + "=");
				if (parts.length === 2) {
					return parts.pop().split(";").shift();
				}
			}

			// 쿠키에 값을 저장하는 함수
			function setCookieValue(name, value, days) {
				let expires = "";
				if (days) {
					const date = new Date();
					date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
					expires = "; expires=" + date.toUTCString();
				}
				document.cookie = name + "=" + (value || "") + expires + "; path=/";
			}




		</script>
		<script>
			function getUVfromCookie() {
				// 6자리 임의의 문자열 생성
				const hash = Math.random().toString(36).substring(2, 8).toUpperCase();
				// 쿠키에서 기존 해시 값을 가져옴
				const existingHash = getCookieValue("user");
				// 기존 해시 값이 없으면, 새로운 해시 값을 쿠키에 저장
				if (!existingHash) {
					setCookieValue("user", hash, 180); // 쿠키 만료일은 6개월 
					return hash;
				} else {
					// 기존 해시 값이 있으면, 기존 값을 반환
					return existingHash;
				}
			}
			// Sam pading value to start with 0. eg: 01, 02, .. 09, 10, ..
			function padValue(value) {
				return (value < 10) ? "0" + value : value;
			}

			function getTimeStamp() {
				const date = new Date();

				const year = date.getFullYear();
				const month = date.getMonth() + 1;
				const day = date.getDate();
				const hours = date.getHours();
				const minutes = date.getMinutes();
				const seconds = date.getSeconds();

				const formattedDate = `${padValue(year)}-${padValue(month)}-${padValue(day)} ${padValue(hours)}:${padValue(minutes)}:${padValue(seconds)}`;

				return formattedDate;
			}

			var queryString = location.search;
				const urlParams = new URLSearchParams(queryString);
				const utm = urlParams.get("utm");

			var mobile = 'desktop';
			if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
					// true for mobile device
				mobile = 'mobile';
			}

			


			
		</script>
		
		<script>
		/* data를 만들 땐 모든 field가 들어 있어야 함 */
						var data = JSON.stringify(
									{"id": getUVfromCookie(),
									"landingUrl":window.location.href, 
									"ip":ip, 
									"referer":document.referrer,
									"time_stamp":getTimeStamp(), 
									"utm":utm,
									"device":mobile}
									);

						$(document).ready(function () {

							addrScript = 'https://script.google.com/macros/s/AKfycbzrw1Ouk9-LeF0H2eEzzI-4RWOgQp5O0YvNQTfzCkI4BcIDe0eJDQ0whbCr2svCnh-9XA/exec'

							/* 잘 안되면, ajax대신 axios를 사용 */
							/* addrScript와 table이름을 본인 것에 맞추어 수정해야 함*/
							/*
							$.ajax({
									url: addrScript+'?action=insert&table=visitors&data='+data,
									dataType: 'jsonp',
									success: function (data) {
										console.log('성공 - ', JSON.stringify(data));
									},
									error: function (xhr) {
										console.log('실패 - ', JSON.stringify(xhr));
									}
							});
							*/

							axios.get(addrScript+'?action=insert&table=visitor&data='+data)
				    			 .then(response => {
											console.log(JSON.stringify(response));
											$('<div id="result" style="font-size:10px; width:200px; word-wrap: break-word; text-overflow: ellipsis; overflow:hidden; display: none;"></div>').appendTo('#wrapper');
											$('#result').text(JSON.stringify(response));
										})

						});
		</script>

	</body>

</html>
